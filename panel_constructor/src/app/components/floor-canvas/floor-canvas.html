<div class="canvas-container">
  <canvas #floorCanvas></canvas>
  <!-- <div class="floor-info">
    <h3>{{ currentlyViewingLabelKey | translate }}: {{ ('floors.' + floorName()) | translate | titlecase }}</h3>
    <p>{{ floorData.messageKey | translate }}</p>
    <p>{{ floorData.tablesLabelKey | translate }}</p>
  </div> -->
  
  <!-- Zoom Controls -->
  <div class="zoom-controls">
    <button class="zoom-button" (click)="zoomIn()" title="Zoom In" aria-label="Zoom In">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="11" y1="8" x2="11" y2="14"></line>
        <line x1="8" y1="11" x2="14" y2="11"></line>
      </svg>
    </button>
    <button class="zoom-button" (click)="zoomOut()" title="Zoom Out" aria-label="Zoom Out">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="8" y1="11" x2="14" y2="11"></line>
      </svg>
    </button>
    <button class="zoom-button" (click)="resetZoom()" title="Reset Zoom" aria-label="Reset Zoom">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
        <path d="M21 3v5h-5"></path>
        <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
        <path d="M3 21v-5h5"></path>
      </svg>
    </button>
    <div class="zoom-level">{{ Math.round(zoomLevel() * 100) }}%</div>
  </div>
  
  <app-table-info
    [table]="hoveredTable()"
    [visible]="isTableHovered()"
    [x]="tooltipX()"
    [y]="tooltipY()"
  />

  @if (isTableConfigOpen) {
    <app-table-config-panel
      [table]="tableConfigTable"
      [step]="tableConfigStep"
      [configData]="tableConfigData"
      [gridSizeOptions]="gridSizeOptions"
      [capacityRange]="capacityRange"
      [nfcState]="nfcState"
      [isNfcComplete]="isNfcComplete"
      (cancel)="cancelTableConfig()"
      (configChange)="onTableConfigChange()"
      (continueToNfc)="continueToNfcStep()"
      (backToDetails)="backToDetails()"
      (save)="completeNfcSetup()"
      (readUid)="startReadUid()"
      (writePayload)="writePayload()"
      (testTap)="testNfcTap()"
    />
  }
</div>
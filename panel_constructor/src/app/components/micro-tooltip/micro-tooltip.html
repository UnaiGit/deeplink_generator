@if (visible() && kitchenItem()) {
  <div 
    class="micro-tooltip"
    [style.left.px]="x()"
    [style.top.px]="y()">
    <div class="tooltip-header">
      <span class="department-name">
        @if (kitchenItem()?.emoji) {
          <span class="emoji">{{ kitchenItem()!.emoji }}</span>
        }
        <span>{{ kitchenItem()?.departmentName || kitchenItem()?.label }}</span>
      </span>
    </div>
    
    <div class="tooltip-content">
      @if (kitchenItem()?.preparationTime) {
        <div class="tooltip-row">
          <span class="label">Avg Time:</span>
          <span class="value">{{ kitchenItem()!.preparationTime }} min</span>
        </div>
      }
      
      @if (kitchenItem()?.currentLoad !== undefined) {
        <div class="tooltip-row">
          <span class="label">Load:</span>
          <div class="load-indicator">
            <div class="load-bar">
              <div 
                class="load-fill" 
                [style.width.%]="kitchenItem()!.currentLoad || 0"
                [style.background-color]="getLoadColor()">
              </div>
            </div>
            <span class="load-value">{{ kitchenItem()!.currentLoad || 0 }}%</span>
          </div>
        </div>
      }
      
      @if (getEmployees().length > 0) {
        <div class="tooltip-row">
          <span class="label">Staff:</span>
          <span class="value">{{ getEmployees().join(', ') }}</span>
        </div>
      }
      
      @if (kitchenItem()?.notes) {
        <div class="tooltip-row notes">
          <span class="label">Note:</span>
          <span class="value">{{ kitchenItem()!.notes }}</span>
        </div>
      }
    </div>
  </div>
}


<div class="shift-schedule-panel">
  <!-- Header -->
  <div class="schedule-header">
    <div class="header-left">
      <div class="icon-wrapper">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"
            fill="white" />
          <path
            d="M12.0002 14.5C6.99016 14.5 2.91016 17.86 2.91016 22C2.91016 22.28 3.13016 22.5 3.41016 22.5H20.5902C20.8702 22.5 21.0902 22.28 21.0902 22C21.0902 17.86 17.0102 14.5 12.0002 14.5Z"
            fill="white" />
        </svg>
      </div>
      <h2 class="schedule-title">{{ 'Shift' | translate }}</h2>
    </div>
    <div class="header-right">
      <button class="btn-filter" (click)="onFilterPeriod()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="3" width="12" height="10" rx="2" stroke="currentColor"
            stroke-width="1.5" fill="none" />
          <path d="M5 6H11M7 9H9" stroke="currentColor" stroke-width="1.5"
            stroke-linecap="round" />
        </svg>
        {{ 'Filter period' | translate }}
        <svg width="12" height="12" viewBox="0 0 12 12" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5"
            stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <button class="btn-add" (click)="onAddShift()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M8 2V14M2 8H14" stroke="white" stroke-width="2"
            stroke-linecap="round" />
        </svg>
        {{ 'Add' | translate }}
      </button>
    </div>
  </div>

  <!-- Role Legend -->
  <div class="role-legend">
    <div class="legend-item" *ngFor="let role of roleLabels">
      <div class="legend-dot" [style.background-color]="role.color"></div>
      <span class="legend-label">{{ role.name }}</span>
    </div>
  </div>

  <!-- Calendar Scheduler -->
  <div class="schedule-container">
    <calendar-scheduler-view
      [viewDate]="viewDate"
      [events]="events"
      [dayStartHour]="dayStartHour"
      [dayEndHour]="dayEndHour"
      [hourSegments]="hourSegments"
      [viewDays]="viewDays"
      [showEventActions]="false"
      [locale]="'en'"
      (eventClicked)="onEventClicked($event)"
      (segmentClicked)="onSegmentClicked($event)"
      (dayHeaderClicked)="onDayHeaderClicked($event)"
      (eventTimesChanged)="onEventTimesChanged($event)">
    </calendar-scheduler-view>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="events.length === 0">
    <div class="empty-message">
      <svg width="64" height="64" viewBox="0 0 24 24" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <path
          d="M8 2V5M16 2V5M3.5 9.09H20.5M21 8.5V17C21 20 19.5 22 16 22H8C4.5 22 3 20 3 17V8.5C3 5.5 4.5 3.5 8 3.5H16C19.5 3.5 21 5.5 21 8.5Z"
          stroke="#9CA3AF" stroke-width="1.5" stroke-miterlimit="10"
          stroke-linecap="round" stroke-linejoin="round" />
      </svg>
      <h3>{{ 'No shifts scheduled' | translate }}</h3>
      <p>{{ 'Add shifts to get started' | translate }}</p>
    </div>
  </div>
</div>

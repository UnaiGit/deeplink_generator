<div class="shift-schedule-panel">
  <!-- Header -->
  <div class="schedule-header">
    <div class="header-left">
      <div class="icon-wrapper">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M12 12C14.7614 12 17 9.76142 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.76142 9.23858 12 12 12Z"
            fill="white" />
          <path
            d="M12.0002 14.5C6.99016 14.5 2.91016 17.86 2.91016 22C2.91016 22.28 3.13016 22.5 3.41016 22.5H20.5902C20.8702 22.5 21.0902 22.28 21.0902 22C21.0902 17.86 17.0102 14.5 12.0002 14.5Z"
            fill="white" />
        </svg>
      </div>
      <h2 class="schedule-title">{{ 'Shift' | translate }}</h2>
    </div>
    <div class="header-right">
      <button class="btn-optimize" (click)="onOptimizeWithAI()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <rect x="2" y="2" width="5" height="5" rx="1" stroke="currentColor"
            stroke-width="1.5" fill="none" />
          <rect x="9" y="2" width="5" height="5" rx="1" stroke="currentColor"
            stroke-width="1.5" fill="none" />
          <rect x="2" y="9" width="5" height="5" rx="1" stroke="currentColor"
            stroke-width="1.5" fill="none" />
          <rect x="9" y="9" width="5" height="5" rx="1" stroke="currentColor"
            stroke-width="1.5" fill="none" />
          <path d="M7 7L9 9M9 7L7 9" stroke="currentColor" stroke-width="1.5"
            stroke-linecap="round" />
        </svg>
        {{ 'Optimize with AI' | translate }}
      </button>
      <button class="btn-add" (click)="onAddShift()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path d="M8 2V14M2 8H14" stroke="white" stroke-width="2"
            stroke-linecap="round" />
        </svg>
        {{ 'Add' | translate }}
      </button>
    </div>
  </div>

  <!-- Schedule Grid or Empty State -->
  <div class="schedule-container" *ngIf="shiftData.length > 0">
    <div class="schedule-grid">
      <!-- Header Row - Days -->
      <div class="grid-header">
        <div class="grid-cell employee-header">{{ 'Employee' | translate }}</div>
        <div class="grid-cell day-header" *ngFor="let day of weekDays">
          {{ getDayName(day) }}
        </div>
      </div>

      <!-- Employee Rows -->
      <div class="grid-row" *ngFor="let employee of employees">
        <div class="grid-cell employee-name">{{ employee }}</div>
        <div class="grid-cell day-cell"
          *ngFor="let day of weekDays; let dayIndex = index">
          <div class="shift-block"
            *ngFor="let shift of getShiftsForEmployeeAndDay(employee, dayIndex)"
            [style.background-color]="getRoleColor(shift.role)"
            (click)="onShiftClick(shift)">
            <div class="shift-time">{{ shift.timeRange }}</div>
            <div class="shift-role">{{ shift.role }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="shiftData.length === 0">
    <div class="empty-grid">
      <div class="empty-grid-header">
        <div class="empty-grid-cell employee-header">{{ 'Employee' | translate }}</div>
        <div class="empty-grid-cell day-header" *ngFor="let day of weekDays">
          {{ getDayName(day) }}
        </div>
      </div>
      <div class="empty-grid-row" *ngFor="let employee of employees">
        <div class="empty-grid-cell employee-name">{{ employee }}</div>
        <div class="empty-grid-cell day-cell" *ngFor="let day of weekDays">
          <span class="empty-dash">-</span>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="lang-select" [class.compact]="inNavbar">
  <button type="button" class="icon-btn" (click)="toggle()" [attr.aria-expanded]="isOpen" aria-haspopup="listbox">
    <!-- Globe icon -->
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M2 12H22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 2C14.7614 5.33333 16.1421 8.66667 16.1421 12C16.1421 15.3333 14.7614 18.6667 12 22C9.23858 18.6667 7.85786 15.3333 7.85786 12C7.85786 8.66667 9.23858 5.33333 12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span class="code" *ngIf="!inNavbar">{{ translate.currentLang || supported[0] }}</span>
    <span class="chev" [class.open]="isOpen">â–¾</span>
  </button>

  <ul class="dropdown" *ngIf="isOpen" role="listbox">
    <li *ngFor="let code of supported" role="option" [attr.aria-selected]="code === translate.currentLang">
      <button type="button" (click)="change(code)" [class.active]="code === translate.currentLang">
        <span class="dot" *ngIf="code === translate.currentLang"></span>
        <span class="label">{{ code }}</span>
      </button>
    </li>
  </ul>
</div>
